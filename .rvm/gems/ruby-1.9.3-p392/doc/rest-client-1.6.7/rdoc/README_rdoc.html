<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README - rest-client-1.6.7 Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./RestClient.html">RestClient</a>
  
    <li><a href="./RestClient/AbstractResponse.html">RestClient::AbstractResponse</a>
  
    <li><a href="./RestClient/Exception.html">RestClient::Exception</a>
  
    <li><a href="./RestClient/ExceptionWithResponse.html">RestClient::ExceptionWithResponse</a>
  
    <li><a href="./RestClient/Exceptions.html">RestClient::Exceptions</a>
  
    <li><a href="./RestClient/MaxRedirectsReached.html">RestClient::MaxRedirectsReached</a>
  
    <li><a href="./RestClient/Payload.html">RestClient::Payload</a>
  
    <li><a href="./RestClient/Payload/Base.html">RestClient::Payload::Base</a>
  
    <li><a href="./RestClient/Payload/Multipart.html">RestClient::Payload::Multipart</a>
  
    <li><a href="./RestClient/Payload/Streamed.html">RestClient::Payload::Streamed</a>
  
    <li><a href="./RestClient/Payload/UrlEncoded.html">RestClient::Payload::UrlEncoded</a>
  
    <li><a href="./RestClient/RawResponse.html">RestClient::RawResponse</a>
  
    <li><a href="./RestClient/Redirect.html">RestClient::Redirect</a>
  
    <li><a href="./RestClient/Request.html">RestClient::Request</a>
  
    <li><a href="./RestClient/Redirect.html">RestClient::Request::Redirect</a>
  
    <li><a href="./RestClient/RequestFailed.html">RestClient::Request::RequestFailed</a>
  
    <li><a href="./RestClient/RequestFailed.html">RestClient::RequestFailed</a>
  
    <li><a href="./RestClient/Resource.html">RestClient::Resource</a>
  
    <li><a href="./RestClient/Response.html">RestClient::Response</a>
  
    <li><a href="./RestClient/ResponseForException.html">RestClient::ResponseForException</a>
  
    <li><a href="./RestClient/SSLCertificateNotVerified.html">RestClient::SSLCertificateNotVerified</a>
  
    <li><a href="./RestClient/ServerBrokeConnection.html">RestClient::ServerBrokeConnection</a>
  
    <li><a href="./Net.html">Net</a>
  
    <li><a href="./Net/HTTP.html">Net::HTTP</a>
  
    <li><a href="./Net/HTTP/Patch.html">Net::HTTP::Patch</a>
  
    <li><a href="./Net/HTTP/Protocol.html">Net::HTTP::Protocol</a>
  
    <li><a href="./MIME.html">MIME</a>
  
    <li><a href="./MIME/Types.html">MIME::Types</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<h1 id="label-REST+Client+--+simple+DSL+for+accessing+HTTP+and+REST+resources">REST Client – simple DSL for accessing HTTP and REST resources</h1>

<p>A simple HTTP and REST client for Ruby, inspired by the Sinatra’s
microframework style of specifying actions: get, put, post, delete.</p>
<ul><li>
<p>Main page: <a
href="http://github.com/archiloque/rest-client">github.com/archiloque/rest-client</a></p>
</li><li>
<p>Mailing list: librelist at rest.client.com (send a mail to subscribe).</p>
</li></ul>

<h2 id="label-Usage%3A+Raw+URL">Usage: Raw URL</h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'rest_client'</span>

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>, {:<span class="ruby-identifier">params</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>, <span class="ruby-string">'foo'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>}}

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'https://user:password@example.com/private/resource'</span>, {:<span class="ruby-identifier">accept</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">json</span>}

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">post</span> <span class="ruby-string">'http://example.com/resource'</span>, :<span class="ruby-identifier">param1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'one'</span>, :<span class="ruby-identifier">nested</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">param2</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'two'</span> }

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">post</span> <span class="ruby-string">&quot;http://example.com/resource&quot;</span>, { <span class="ruby-string">'x'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }.<span class="ruby-identifier">to_json</span>, :<span class="ruby-identifier">content_type</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">json</span>, :<span class="ruby-identifier">accept</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">json</span>

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">'http://example.com/resource'</span>

<span class="ruby-identifier">response</span> = <span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>
<span class="ruby-identifier">response</span>.<span class="ruby-identifier">code</span>
<span class="ruby-identifier">➔</span> <span class="ruby-value">200</span>
<span class="ruby-identifier">response</span>.<span class="ruby-identifier">cookies</span>
<span class="ruby-identifier">➔</span> {<span class="ruby-string">&quot;Foo&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;BAR&quot;</span>, <span class="ruby-string">&quot;QUUX&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;QUUUUX&quot;</span>}
<span class="ruby-identifier">response</span>.<span class="ruby-identifier">headers</span>
<span class="ruby-identifier">➔</span> {:<span class="ruby-identifier">content_type=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;text/html; charset=utf-8&quot;</span>, :<span class="ruby-identifier">cache_control=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;private&quot;</span> <span class="ruby-operator">...</span>
<span class="ruby-identifier">response</span>.<span class="ruby-identifier">to_str</span>
<span class="ruby-identifier">➔</span> \<span class="ruby-identifier">n</span><span class="ruby-operator">&lt;</span><span class="ruby-operator">!</span><span class="ruby-constant">DOCTYPE</span> <span class="ruby-identifier">html</span> <span class="ruby-constant">PUBLIC</span> \<span class="ruby-string">&quot;-//W3C//DTD HTML 4.01//EN\&quot;\n   \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;\n\n&lt;html ....

RestClient.post( url,
  {
    :transfer =&gt; {
      :path =&gt; '/foo/bar',
      :owner =&gt; 'that_guy',
      :group =&gt; 'those_guys'
    },
     :upload =&gt; {
      :file =&gt; File.new(path, 'rb')
    }
  })
</span></pre>

<h2 id="label-Multipart">Multipart</h2>

<p>Yeah, that’s right!  This does multipart sends for you!</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">post</span> <span class="ruby-string">'/data'</span>, :<span class="ruby-identifier">myfile</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;/path/to/image.jpg&quot;</span>, <span class="ruby-string">'rb'</span>)
</pre>

<p>This does two things for you:</p>
<ul><li>
<p>Auto-detects that you have a File value sends it as multipart</p>
</li><li>
<p>Auto-detects the mime of the file and sets it in the HEAD of the payload
for each entry</p>
</li></ul>

<p>If you are sending params that do not contain a File object but the payload
needs to be multipart then:</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">post</span> <span class="ruby-string">'/data'</span>, :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>, :<span class="ruby-identifier">multipart</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
</pre>

<h2 id="label-Usage%3A+ActiveResource-Style">Usage: ActiveResource-Style</h2>

<pre class="ruby"><span class="ruby-identifier">resource</span> = <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">'http://example.com/resource'</span>
<span class="ruby-identifier">resource</span>.<span class="ruby-identifier">get</span>

<span class="ruby-identifier">private_resource</span> = <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">'https://example.com/private/resource'</span>, <span class="ruby-string">'user'</span>, <span class="ruby-string">'pass'</span>
<span class="ruby-identifier">private_resource</span>.<span class="ruby-identifier">put</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">'pic.jpg'</span>), :<span class="ruby-identifier">content_type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'image/jpg'</span>
</pre>

<p>See <a href="RestClient/Resource.html">RestClient::Resource</a> module docs
for details.</p>

<h2 id="label-Usage%3A+Resource+Nesting">Usage: Resource Nesting</h2>

<pre class="ruby"><span class="ruby-identifier">site</span> = <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'http://example.com'</span>)
<span class="ruby-identifier">site</span>[<span class="ruby-string">'posts/1/comments'</span>].<span class="ruby-identifier">post</span> <span class="ruby-string">'Good article.'</span>, :<span class="ruby-identifier">content_type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'text/plain'</span>
</pre>

<p>See <a href="RestClient/Resource.html">RestClient::Resource</a> docs for
details.</p>

<h2 id="label-Exceptions+%28see+http%3A%2F%2Fwww.w3.org%2FProtocols%2Frfc2616%2Frfc2616-sec10.html%29">Exceptions (see <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a>)</h2>
<ul><li>
<p>for results code between 200 and 207 a <a
href="RestClient/Response.html">RestClient::Response</a> will be returned</p>
</li><li>
<p>for results code 301, 302 or 307 the redirection will be followed if the
request is a get or a head</p>
</li><li>
<p>for result code 303 the redirection will be followed and the request
transformed into a get</p>
</li><li>
<p>for other cases a <a
href="RestClient/Exception.html">RestClient::Exception</a> holding the
Response will be raised, a specific exception class will be thrown for know
error codes</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>
<span class="ruby-identifier">➔</span> <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span><span class="ruby-operator">:</span> <span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">ResourceNotFound</span>

<span class="ruby-keyword">begin</span>
  <span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>
<span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">e</span>.<span class="ruby-identifier">response</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">➔</span> <span class="ruby-value">404</span> <span class="ruby-constant">Resource</span> <span class="ruby-constant">Not</span> <span class="ruby-constant">Found</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">text</span><span class="ruby-operator">/</span><span class="ruby-identifier">html</span> <span class="ruby-value">282</span> <span class="ruby-identifier">bytes</span>
</pre>
</li></ul>

<h2 id="label-Result+handling">Result handling</h2>

<p>A block can be passed to the <a href="RestClient.html">RestClient</a>
method, this block will then be called with the Response. Response.return!
can be called to invoke the default response’s behavior.</p>

<pre class="ruby"><span class="ruby-comment"># Don't raise exceptions but return the response</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">'http://example.com/resource'</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">response</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span><span class="ruby-operator">|</span> <span class="ruby-identifier">response</span> }
<span class="ruby-identifier">➔</span> <span class="ruby-value">404</span> <span class="ruby-constant">Resource</span> <span class="ruby-constant">Not</span> <span class="ruby-constant">Found</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">text</span><span class="ruby-operator">/</span><span class="ruby-identifier">html</span> <span class="ruby-value">282</span> <span class="ruby-identifier">bytes</span>

<span class="ruby-comment"># Manage a specific error code</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">'http://my-rest-service.com/resource'</span>){ <span class="ruby-operator">|</span><span class="ruby-identifier">response</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span>, &amp;<span class="ruby-identifier">block</span><span class="ruby-operator">|</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">code</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">200</span>
    <span class="ruby-identifier">p</span> <span class="ruby-string">&quot;It worked !&quot;</span>
    <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">423</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">SomeCustomExceptionIfYouWant</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">response</span>.<span class="ruby-identifier">return!</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
}

<span class="ruby-comment"># Follow redirections for all request types and not only for get and head</span>
<span class="ruby-comment"># RFC : &quot;If the 301, 302 or 307 status code is received in response to a request other than GET or HEAD,</span>
<span class="ruby-comment">#        the user agent MUST NOT automatically redirect the request unless it can be confirmed by the user,</span>
<span class="ruby-comment">#        since this might change the conditions under which the request was issued.&quot;</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">'http://my-rest-service.com/resource'</span>){ <span class="ruby-operator">|</span><span class="ruby-identifier">response</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span>, &amp;<span class="ruby-identifier">block</span><span class="ruby-operator">|</span>
  <span class="ruby-keyword">if</span> [<span class="ruby-value">301</span>, <span class="ruby-value">302</span>, <span class="ruby-value">307</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">code</span>
    <span class="ruby-identifier">response</span>.<span class="ruby-identifier">follow_redirection</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">response</span>.<span class="ruby-identifier">return!</span>(<span class="ruby-identifier">request</span>, <span class="ruby-identifier">result</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
}
</pre>

<h2 id="label-Non-normalized+URIs.">Non-normalized URIs.</h2>

<p>If you want to use non-normalized URIs, you can normalize them with the
addressable gem (<a
href="http://addressable.rubyforge.org/api/">addressable.rubyforge.org/api/</a>).</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'addressable/uri'</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span>(<span class="ruby-constant">Addressable</span><span class="ruby-operator">::</span><span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://www.詹姆斯.com/&quot;</span>).<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">to_str</span>)
</pre>

<h2 id="label-Lower-level+access">Lower-level access</h2>

<p>For cases not covered by the general API, you can use the <a
href="RestClient/Request.html">RestClient::Request</a> class which provide
a lower-level API.</p>

<p>You can:</p>
<ul><li>
<p>specify ssl parameters</p>
</li><li>
<p>override cookies</p>
</li><li>
<p>manually handle the response (so you can operate on the response stream
than reading it fully in memory)</p>
</li></ul>

<p>see the class’ rdoc for more information.</p>

<h2 id="label-Shell">Shell</h2>

<p>The restclient shell command gives an IRB session with <a
href="RestClient.html">RestClient</a> already loaded:</p>

<pre>$ restclient
&gt;&gt; RestClient.get 'http://example.com'</pre>

<p>Specify a URL argument for get/post/put/delete on that resource:</p>

<pre>$ restclient http://example.com
&gt;&gt; put '/resource', 'data'</pre>

<p>Add a user and password for authenticated resources:</p>

<pre>$ restclient https://example.com user pass
&gt;&gt; delete '/private/resource'</pre>

<p>Create ~/.restclient for named sessions:</p>

<pre>sinatra:
  url: http://localhost:4567
rack:
  url: http://localhost:9292
private_site:
  url: http://example.com
  username: user
  password: pass</pre>

<p>Then invoke:</p>

<pre>$ restclient private_site</pre>

<p>Use as a one-off, curl-style:</p>

<pre>$ restclient get http://example.com/resource &gt; output_body

$ restclient put http://example.com/resource &lt; input_body</pre>

<h2 id="label-Logging">Logging</h2>

<p>To enable logging you can</p>
<ul><li>
<p>set RestClient.log with a ruby Logger</p>
</li><li>
<p>or set an environment variable to avoid modifying the code (in this case
you can use a file name, “stdout” or “stderr”):</p>

<pre>$ RESTCLIENT_LOG=stdout path/to/my/program</pre>
</li></ul>

<p>Either produces logs like this:</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;http://some/resource&quot;</span>
<span class="ruby-comment"># =&gt; 200 OK | text/html 250 bytes</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">put</span> <span class="ruby-string">&quot;http://some/resource&quot;</span>, <span class="ruby-string">&quot;payload&quot;</span>
<span class="ruby-comment"># =&gt; 401 Unauthorized | application/xml 340 bytes</span>
</pre>

<p>Note that these logs are valid Ruby, so you can paste them into the
restclient shell or a script to replay your sequence of rest calls.</p>

<h2 id="label-Proxy">Proxy</h2>

<p>All calls to <a href="RestClient.html">RestClient</a>, including Resources,
will use the proxy specified by <a
href="RestClient.html#attribute-c-proxy">RestClient.proxy</a>:</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">proxy</span> = <span class="ruby-string">&quot;http://proxy.example.com/&quot;</span>
<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;http://some/resource&quot;</span>
<span class="ruby-comment"># =&gt; response from some/resource as proxied through proxy.example.com</span>
</pre>

<p>Often the proxy url is set in an environment variable, so you can do this
to use whatever proxy the system is configured to use:</p>

<pre>RestClient.proxy = ENV['http_proxy']</pre>

<h2 id="label-Query+parameters">Query parameters</h2>

<p>Request objects know about query parameters and will automatically add them
to the url for GET, HEAD and DELETE requests and escape the keys and values
as  needed:</p>

<pre class="ruby"><span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/resource'</span>, :<span class="ruby-identifier">params</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bar'</span>, :<span class="ruby-identifier">baz</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'qux'</span>}
<span class="ruby-comment"># will GET http://example.com/resource?foo=bar&amp;baz=qux</span>
</pre>

<h2 id="label-Cookies">Cookies</h2>

<p>Request and Response objects know about HTTP cookies, and will
automatically extract and set headers for them as needed:</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com/action_which_sets_session_id'</span>
<span class="ruby-identifier">response</span>.<span class="ruby-identifier">cookies</span>
<span class="ruby-comment"># =&gt; {&quot;_applicatioN_session_id&quot; =&gt; &quot;1234&quot;}</span>

<span class="ruby-identifier">response2</span> = <span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">post</span>(
  <span class="ruby-string">'http://localhost:3000/'</span>,
  {:<span class="ruby-identifier">param1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo&quot;</span>},
  {:<span class="ruby-identifier">cookies</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">session_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;1234&quot;</span>}}
)
<span class="ruby-comment"># ...response body</span>
</pre>

<h2 id="label-SSL+Client+Certificates">SSL Client Certificates</h2>

<pre class="ruby"><span class="ruby-constant">RestClient</span><span class="ruby-operator">::</span><span class="ruby-constant">Resource</span>.<span class="ruby-identifier">new</span>(
  <span class="ruby-string">'https://example.com'</span>,
  :<span class="ruby-identifier">ssl_client_cert</span>  =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">X509</span><span class="ruby-operator">::</span><span class="ruby-constant">Certificate</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&quot;cert.pem&quot;</span>)),
  :<span class="ruby-identifier">ssl_client_key</span>   =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">PKey</span><span class="ruby-operator">::</span><span class="ruby-constant">RSA</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&quot;key.pem&quot;</span>), <span class="ruby-string">&quot;passphrase, if any&quot;</span>),
  :<span class="ruby-identifier">ssl_ca_file</span>      =<span class="ruby-operator">&gt;</span>  <span class="ruby-string">&quot;ca_certificate.pem&quot;</span>,
  :<span class="ruby-identifier">verify_ssl</span>       =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>
).<span class="ruby-identifier">get</span>
</pre>

<p>Self-signed certificates can be generated with the openssl command-line
tool.</p>

<h2 id="label-Hook">Hook</h2>

<p><a
href="RestClient.html#method-c-add_before_execution_proc">RestClient.add_before_execution_proc</a>
add a Proc to be called before each execution, it's handy if you need a
direct access to the http request.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-comment"># Add oath support using the oauth gem</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'oauth'</span>
<span class="ruby-identifier">access_token</span> = <span class="ruby-operator">...</span>

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">add_before_execution_proc</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">req</span>, <span class="ruby-identifier">params</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">access_token</span>.<span class="ruby-identifier">sign!</span> <span class="ruby-identifier">req</span>
<span class="ruby-keyword">end</span>

<span class="ruby-constant">RestClient</span>.<span class="ruby-identifier">get</span> <span class="ruby-string">'http://example.com'</span>
</pre>

<h2 id="label-More">More</h2>

<p>Need caching, more advanced logging or any ability provided by a rack
middleware ?</p>

<p>Have a look at rest-client-components <a
href="http://github.com/crohr/rest-client-components">github.com/crohr/rest-client-components</a></p>

<h2 id="label-Meta">Meta</h2>

<p>Written by Adam Wiggins, major modifications by Blake Mizerany, maintained
by Julien Kirch</p>

<p>Patches contributed by many, including Chris Anderson, Greg Borenstein,
Ardekantur, Pedro Belo, Rafael Souza, Rick Olson, Aman Gupta, François
Beausoleil and Nick Plante.</p>

<p>Released under the MIT License: <a
href="http://www.opensource.org/licenses/mit-license.php">www.opensource.org/licenses/mit-license.php</a></p>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

